################################################################################
# .prepfunctions -- utilitiy functions specific to the prep environment.
# Version: 1.0
# Date:        Name:                   Description:
# 2009-08-14   Barton Chittenden       Initial Version
# 2009-08-17   Barton Chittenden       Changed APPRISS_ENV_HOME to MY_ENV_HOME.
################################################################################

# export $MY_ENV_HOME, changing prod to prep
exportenvr() 
{ 
	export MY_ENV_HOME=`echo $MY_ENV_HOME | sed "s/prod/prep/g"`
}

cdprep () 
{ 
	agency $1 'cdprep' || return 1
	shift  
	exportenvr  
	pushd $MY_ENV_HOME/${SITEPATH}${AGENCY}/$@  
}
cdprepsite () 
{ 
	agency $1 'cdprepsite' || return 1  
	shift  
	exportenvr  
	pushd $MY_ENV_HOME/${SITEPATH}/$@  
}
checkpreplogs () 
{ 
	agency $1 'checkpreplogs' || return 1  
	exportenvr  
	tail -f $MY_ENV_HOME/${SITEPATH}${AGENCY}/logs/`date +%Y%m%d.log`  
}

preppath () {
        agency $1 'preppath' || return 1
        exportenvr
        PREP_AGENCYPATH=$MY_ENV_HOME/${SITEPATH}${AGENCY}
        echo "\$PREP_AGENCYPATH=$PREP_AGENCYPATH"
}

